<div class="container mt-5">
  <div class="d-flex align-items-center justify-content-between">
    <h1>All Users</h1>
    <%= link_to 'Create new', new_admin_user_path(), class: "btn btn-outline-primary btn-sm" %>
  </div>

  <h6 class="text-muted font-weight-light">English speaking participants <span class="badge badge-light"><%= User.where(language:'eng').count %></span></h6>
  <h6 class="text-muted font-weight-light">Russian speaking participants <span class="badge badge-light"><%= User.where(language:'rus').count %></span></h6>


  <div class="row">
    <div class="col-9">

      <table class="table table-hover mt-5">
        <thead>
        <tr>
          <th scope="col" style="width: 5%; text-align: center">#</th>
          <th scope="col" style="width: 20%;">Firstname</th>
          <th scope="col" style="width: 20%;">Lastname</th>
          <th scope="col" style="width: 30%;">Email</th>
          <th scope="col" style="width: 15%;">Language</th>
          <th scope="col" style="width: 10%;"></th>
        </tr>
        </thead>
        <tbody>

        <% @users.each_with_index { |user, index|  %>
          <tr>

            <th style="text-align: center" scope="row"><%= index + 1 %></th>
            <td><%= user.firstname %></td>
            <td><%= user.lastname %></td>
            <td><%= user.email %></td>
            <td><%= user.language %></td>
            <td style="text-align: center"><%= link_to 'show', admin_user_path(user), class: "btn btn-outline-secondary btn-sm" %></td>

          </tr>
        <% } %>
        </tbody>
      </table>





    </div>

    <div class="col-3">


          <form class="mt-3">
<!--            <h4 class="d-flex justify-content-center mt-3 mb-3">Search users</h4>-->
            <div>
              <%= search_form_for @q, url: admin_users_path do |f| %>

                <div class="form-group">
                  <%= f.label "Firstname:", class: "col-md-4 control-label" %>
                  <div class="col-auto">
                    <%= f.search_field :firstname_cont, class: "form-control", placeholder: "contains" %>
                  </div>
                </div>

                <div class="form-group">
                  <%= f.label "Lastname:", class: "col-md-4 control-label" %>
                  <div class="col-auto">
                    <%= f.search_field :lastname_cont, class: "form-control", placeholder: "contains" %>
                  </div>
                </div>

                <div class="form-group">
                  <%= f.label "Email:", class: "col-md-4 control-label" %>
                  <div class="col-auto">
                    <%= f.search_field :email_cont, class: "form-control", placeholder: "contains" %>
                  </div>
                </div>

                <div class="form-group">
                  <%= f.label "Language:", class: "col-md-4 control-label" %>
                  <div class="col-auto">
                    <%= f.select :language_eq, options_for_select(%w(rus eng)), { prompt: '-- Select One --' }, class: "form-control" %>
                  </div>
                </div>

                <div class="col-auto d-flex justify-content-end mt-3 mb-3">
                  <%= f.submit :Search, type: "submit", class: "btn btn-outline-success btn-sm" %>
                  <%= link_to '&times;'.html_safe, request.path, class: "btn btn-light btn-sm ml-3" %>
                </div>
              <% end %>
            </div>
          </form>





    </div>
  </div>









<!--  <table class="table table-hover mt-5">-->
<!--    <thead>-->
<!--    <tr>-->
<!--      <th scope="col" style="width: 5%; text-align: center">#</th>-->
<!--      <th scope="col" style="width: 20%;">Firstname</th>-->
<!--      <th scope="col" style="width: 20%;">Lastname</th>-->
<!--      <th scope="col" style="width: 30%;">Email</th>-->
<!--      <th scope="col" style="width: 15%;">Language</th>-->
<!--      <th scope="col" style="width: 10%;"></th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->

    <%# @users.each_with_index { |user, index|  %>
<!--      <tr>-->

<!--        <th style="text-align: center" scope="row"><%#= index + 1 %></th>-->
<!--        <td><%#= user.firstname %></td>-->
<!--        <td><%#= user.lastname %></td>-->
<!--        <td><%#= user.email %></td>-->
<!--        <td><%#= user.language %></td>-->
<!--        <td style="text-align: center"><%#= link_to 'show', admin_user_path(user), class: "btn btn-outline-secondary btn-sm" %></td>-->

<!--      </tr>-->
    <%# } %>
<!--    </tbody>-->
<!--  </table>-->





  <%= paginate @users %>




<!--  <div class="col" style="max-width: 30%; position: relative;">-->
<!--    <div class="search-form" style="max-width: 30%;">-->
<!--      <form>-->
<!--        <h4 class="d-flex justify-content-center mt-3 mb-3">Search users</h4>-->
<!--        <div>-->
          <%#= search_form_for @q do |f| %>

<!--              <div class="form-group">-->
                <%#= f.label "Firstname:", class: "col-md-4 control-label" %>
<!--                <div class="col-auto">-->
                  <%#= f.search_field :firstname_cont, class: "form-control", placeholder: "contains" %>
<!--                </div>-->
<!--              </div>-->

<!--              <div class="form-group">-->
                <%#= f.label "Lastname:", class: "col-md-4 control-label" %>
<!--                <div class="col-auto">-->
                  <%#= f.search_field :lastname_cont, class: "form-control", placeholder: "contains" %>
<!--                </div>-->
<!--              </div>-->

<!--            <div class="form-group">-->
              <%#= f.label "Email:", class: "col-md-4 control-label" %>
<!--              <div class="col-auto">-->
                <%#= f.search_field :email_cont, class: "form-control", placeholder: "contains" %>
<!--              </div>-->
<!--            </div>-->

<!--            <div class="form-group">-->
              <%#= f.label "Language:", class: "col-md-4 control-label" %>
<!--              <div class="col-auto">-->
                <%#= f.select :language_eq, options_for_select(%w(rus eng)), { prompt: '-- Select One --' }, class: "form-control" %>
<!--              </div>-->
<!--            </div>-->

<!--            <div class="col-auto d-flex justify-content-end mt-3 mb-3">-->
              <%#= f.submit :Search, type: "submit", class: "btn btn-outline-success" %>
              <%#= link_to '&times;'.html_safe, request.path, class: "btn btn-light ml-3" %>
<!--            </div>-->
          <%# end %>
<!--        </div>-->
<!--      </form>-->
<!--    </div>-->
<!--  </div>-->


















</div>
